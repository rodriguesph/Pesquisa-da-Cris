<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Pesquisa Aulas Pr√°ticas Semipresencial</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            color: #7f8c8d;
            font-size: 1.1em;
            margin-bottom: 20px;
        }

        .kpi-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .kpi-card {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .kpi-card:hover {
            transform: translateY(-5px);
        }

        .kpi-value {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .kpi-label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .chart-container {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .chart-container:hover {
            transform: translateY(-2px);
        }

        .chart-title {
            font-size: 1.3em;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
        }

        .chart {
            width: 100%;
            height: 400px;
        }

        .insight-button {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 600;
            margin-top: 15px;
            width: 100%;
            transition: all 0.3s ease;
        }

        .insight-button:hover {
            background: linear-gradient(135deg, #2980b9, #3498db);
            transform: translateY(-2px);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 700px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            animation: slideIn 0.3s ease;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            position: absolute;
            right: 20px;
            top: 15px;
        }

        .close:hover {
            color: #333;
        }

        .modal h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .modal p {
            line-height: 1.6;
            margin-bottom: 15px;
            color: #555;
        }

        .modal ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .modal li {
            margin-bottom: 8px;
            color: #555;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .kpi-container {
                grid-template-columns: repeat(2, 1fr);
            }

            .modal-content {
                margin: 10% auto;
                width: 95%;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üìä Dashboard - Pesquisa Aulas Pr√°ticas</h1>
            <p>An√°lise das percep√ß√µes dos alunos sobre aulas pr√°ticas no modelo semipresencial</p>
	    <p>Desenvolvimento Institucional | Escrit√≥rio de Projetos | Intelig√™ncia de Mercado</p> 
            
            <div class="kpi-container">
                <div class="kpi-card">
                    <div class="kpi-value">119</div>
                    <div class="kpi-label">Total de Respondentes</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value">4.3</div>
                    <div class="kpi-label">Avalia√ß√£o Geral (1-5)</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value">75.6%</div>
                    <div class="kpi-label">Interesse em Mais Pr√°ticas</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value">71.4%</div>
                    <div class="kpi-label">Prefer√™ncia pela Sede</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value">60.6%</div>
                    <div class="kpi-label">Preferem S√°bado</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value">67.2%</div>
                    <div class="kpi-label">Aceitam at√© 50km</div>
                </div>
            </div>
        </div>

        <!-- Dashboard Grid -->
        <div class="dashboard-grid">
            <!-- Distribui√ß√£o por Curso -->
            <div class="chart-container">
                <div class="chart-title">üìö Distribui√ß√£o por Curso</div>
                <div id="curso-chart" class="chart"></div>
                <button class="insight-button" onclick="openModal('modal-curso')">üí° Insights</button>
            </div>

            <!-- Prefer√™ncia de Local -->
            <div class="chart-container">
                <div class="chart-title">üìç Prefer√™ncia de Local para Pr√°ticas</div>
                <div id="local-chart" class="chart"></div>
                <button class="insight-button" onclick="openModal('modal-local')">üí° Insights</button>
            </div>

            <!-- Dist√¢ncia M√°xima -->
            <div class="chart-container">
                <div class="chart-title">üöó Dist√¢ncia/Tempo M√°ximo Aceit√°vel</div>
                <div id="distancia-chart" class="chart"></div>
                <button class="insight-button" onclick="openModal('modal-distancia')">üí° Insights</button>
            </div>

            <!-- Frequ√™ncia Desejada -->
            <div class="chart-container">
                <div class="chart-title">üìÖ Frequ√™ncia M√°xima Disposta</div>
                <div id="frequencia-chart" class="chart"></div>
                <button class="insight-button" onclick="openModal('modal-frequencia')">üí° Insights</button>
            </div>

            <!-- Dias Preferidos -->
            <div class="chart-container">
                <div class="chart-title">üóìÔ∏è Dias Ideais para Pr√°ticas</div>
                <div id="dias-chart" class="chart"></div>
                <button class="insight-button" onclick="openModal('modal-dias')">üí° Insights</button>
            </div>

            <!-- Interesse em Mais Pr√°ticas -->
            <div class="chart-container">
                <div class="chart-title">üéØ Interesse em Pr√°ticas Adicionais</div>
                <div id="interesse-chart" class="chart"></div>
                <button class="insight-button" onclick="openModal('modal-interesse')">üí° Insights</button>
            </div>

            <!-- Avalia√ß√£o Qualidade -->
            <div class="chart-container">
                <div class="chart-title">‚≠ê Avalia√ß√£o da Qualidade Geral</div>
                <div id="qualidade-chart" class="chart"></div>
                <button class="insight-button" onclick="openModal('modal-qualidade')">üí° Insights</button>
            </div>

            <!-- Avalia√ß√£o Custo-Benef√≠cio -->
            <div class="chart-container">
                <div class="chart-title">üí∞ Avalia√ß√£o Custo-Benef√≠cio</div>
                <div id="custo-chart" class="chart"></div>
                <button class="insight-button" onclick="openModal('modal-custo')">üí° Insights</button>
            </div>

            <!-- Percep√ß√£o Geral -->
            <div class="chart-container">
                <div class="chart-title">üí≠ Percep√ß√£o Geral do Curso</div>
                <div id="percepcao-chart" class="chart"></div>
                <button class="insight-button" onclick="openModal('modal-percepcao')">üí° Insights</button>
            </div>
        </div>
    </div>

    <!-- Modais de Insights -->
    <!-- Modal Curso -->
    <div id="modal-curso" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>üí° Insights - Distribui√ß√£o por Curso</h3>
            <p><strong>Concentra√ß√£o em Cursos Espec√≠ficos:</strong> A pesquisa revela alta concentra√ß√£o em Agronomia (27%) e Farm√°cia (23,5%), representando mais de 50% da amostra.</p>
            <p><strong>Perfil dos Respondentes:</strong> Os alunos de TADS foram exclu√≠dos por n√£o possu√≠rem aulas pr√°ticas presenciais, garantindo que os dados reflitam apenas cursos que demandam atividades pr√°ticas.</p>
            <p><strong>Implica√ß√£o Estrat√©gica:</strong> A concentra√ß√£o indica que esses cursos s√£o priorit√°rios para investimentos em infraestrutura pr√°tica e podem servir como modelo para outros cursos.</p>
        </div>
    </div>

    <!-- Modal Local -->
    <div id="modal-local" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>üí° Insights - Prefer√™ncia de Local</h3>
            <p><strong>Alta Aceita√ß√£o da Centraliza√ß√£o:</strong> 71,4% dos alunos preferem a sede em Campo Mour√£o, demonstrando que o deslocamento n√£o √© um obst√°culo significativo para os alunos atuais.</p>
            <p><strong>Baixa Demanda por Polos Locais:</strong> Apenas 10,9% preferem o polo local, questionando a necessidade de investimento em m√∫ltiplos polos com laborat√≥rios.</p>
            <p><strong>Alerta Estrat√©gico:</strong> Essa percep√ß√£o pode ser diferente para prospects de regi√µes mais afastadas, onde a dist√¢ncia pode se tornar um fator decisivo na capta√ß√£o.</p>
        </div>
    </div>

    <!-- Modal Dist√¢ncia -->
    <div id="modal-distancia" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>üí° Insights - Dist√¢ncia e Tempo</h3>
            <p><strong>Limite de 50km como Refer√™ncia:</strong> 67,2% dos alunos aceitam se deslocar at√© 50km, estabelecendo um raio geogr√°fico claro para a capta√ß√£o.</p>
            <p><strong>Concentra√ß√£o Local:</strong> 37,8% aceitam apenas at√© 20km, indicando forte prefer√™ncia por proximidade.</p>
            <p><strong>Reflex√£o Estrat√©gica:</strong> Vale questionar se investir na expans√£o para atender o p√∫blico al√©m dos 50km justifica-se, considerando que os pr√≥prios alunos atuais indicam esse limite.</p>
        </div>
    </div>

    <!-- Modal Frequ√™ncia -->
    <div id="modal-frequencia" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>üí° Insights - Frequ√™ncia das Pr√°ticas</h3>
            <p><strong>Dois Perfis Distintos:</strong> 62,2% dos alunos aceitam encontros semanais ou mais frequentes, demonstrando interesse em intensificar a viv√™ncia pr√°tica.</p>
            <p><strong>Demanda por Flexibilidade:</strong> 37,9% preferem frequ√™ncia mensal ou por m√≥dulo, buscando maior flexibilidade no cronograma.</p>
            <p><strong>Oportunidade:</strong> A alta aceita√ß√£o de frequ√™ncia semanal (33,6%) indica potencial para ofertar mais pr√°ticas regulares, atendendo √† demanda dos alunos mais engajados.</p>
        </div>
    </div>

    <!-- Modal Dias -->
    <div id="modal-dias" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>üí° Insights - Dias e Per√≠odos</h3>
            <p><strong>Dom√≠nio do S√°bado:</strong> 60,6% dos alunos preferem s√°bado (dia todo ou manh√£), refletindo o perfil de estudantes que conciliam trabalho durante a semana.</p>
            <p><strong>Flexibilidade de Per√≠odo:</strong> A distribui√ß√£o entre manh√£, tarde e integral no s√°bado oferece oportunidades para diferentes formatos de oferta.</p>
            <p><strong>Estrat√©gia de Concentra√ß√£o:</strong> Concentrar as pr√°ticas aos s√°bados poderia maximizar a ades√£o e otimizar o uso da infraestrutura.</p>
        </div>
    </div>

    <!-- Modal Interesse -->
    <div id="modal-interesse" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>üí° Insights - Interesse em Mais Pr√°ticas</h3>
            <p><strong>Demanda Reprimida Significativa:</strong> 75,6% afirmam que participariam "com certeza" de mais pr√°ticas, evidenciando alta valoriza√ß√£o das atividades pr√°ticas.</p>
            <p><strong>Potencial de Expans√£o:</strong> Apenas 11,8% n√£o t√™m interesse, mostrando amplo espa√ßo para ampliar a oferta de pr√°ticas.</p>
            <p><strong>Diferencial Competitivo:</strong> As pr√°ticas s√£o percebidas como componente essencial da forma√ß√£o, podendo ser um forte diferencial na capta√ß√£o.</p>
            <p><strong>Alerta:</strong> √â importante validar se essa valoriza√ß√£o se mant√©m entre prospects que ainda n√£o vivenciaram o curso.</p>
        </div>
    </div>

    <!-- Modal Qualidade -->
    <div id="modal-qualidade" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>üí° Insights - Qualidade Geral</h3>
            <p><strong>Alta Satisfa√ß√£o:</strong> M√©dia de 4,3/5 com 82,4% dos alunos atribuindo notas 4 ou 5, refletindo satisfa√ß√£o geral com a entrega acad√™mica.</p>
            <p><strong>Espa√ßo para Melhorias:</strong> 14,3% atribu√≠ram nota 3 (neutra), sinalizando oportunidades de aprimoramento na estrutura ou organiza√ß√£o.</p>
            <p><strong>Benchmarking Interno:</strong> A alta avalia√ß√£o serve como refer√™ncia para manter e replicar as boas pr√°ticas identificadas.</p>
        </div>
    </div>

    <!-- Modal Custo -->
    <div id="modal-custo" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>üí° Insights - Custo-Benef√≠cio</h3>
            <p><strong>Percep√ß√£o Positiva de Valor:</strong> M√©dia de 4,1/5 com 78,2% avaliando com notas 4 ou 5, indicando que o valor pago √© percebido como compat√≠vel com a entrega.</p>
            <p><strong>Oportunidade de Valoriza√ß√£o:</strong> H√° margem para aumentar o valor percebido sem alterar pre√ßos, focando no refor√ßo e comunica√ß√£o da qualidade das pr√°ticas.</p>
            <p><strong>Diferencial Competitivo:</strong> A boa percep√ß√£o custo-benef√≠cio pode ser explorada como vantagem competitiva no mercado educacional.</p>
        </div>
    </div>

    <!-- Modal Percep√ß√£o -->
    <div id="modal-percepcao" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>üí° Insights - Percep√ß√£o Geral</h3>
            <p><strong>Demanda Clara por Mais Pr√°ticas:</strong> 42,9% afirmam que o curso tem boa qualidade, mas poderia ofertar mais aulas pr√°ticas - a principal demanda identificada.</p>
            <p><strong>Satisfa√ß√£o Equilibrada:</strong> 24,4% consideram que o curso atende plenamente √†s expectativas, indicando um patamar s√≥lido de qualidade.</p>
            <p><strong>Valoriza√ß√£o da Flexibilidade:</strong> 16% destacam a flexibilidade como diferencial, refor√ßando a import√¢ncia de manter esse atributo do modelo semipresencial.</p>
            <p><strong>Oportunidade Principal:</strong> A converg√™ncia dos dados aponta para ampliar as pr√°ticas presenciais mantendo a flexibilidade como diferencial.</p>
        </div>
    </div>

    <script>
        // Dados atualizados baseados nas informa√ß√µes fornecidas
        const dados = {
            cursos: {
                labels: ['Agronomia', 'Farm√°cia', 'Fisioterapia', 'Biomedicina', 'Ed. F√≠sica', 'Nutri√ß√£o', 'Est√©tica'],
                values: [32, 28, 19, 14, 9, 9, 7],
                percentuais: [27.0, 23.5, 16.0, 11.8, 7.6, 7.6, 5.9]
            },
            local: {
                labels: ['Sede Campo Mour√£o', 'Polo Local', 'Indiferente'],
                values: [85, 13, 21],
                percentuais: [71.4, 10.9, 17.6]
            },
            distancia: {
                labels: ['At√© 20km', '21-50km', '51-100km', '101-150km', 'Mais de 150km'],
                values: [45, 35, 29, 7, 3],
                percentuais: [37.8, 29.4, 24.4, 5.9, 2.5]
            },
            frequencia: {
                labels: ['1 vez por semana', 'Mais de 1 vez por semana', '1 vez por m√™s', '1 vez por m√≥dulo'],
                values: [40, 34, 31, 14],
                percentuais: [33.6, 28.6, 26.1, 11.8]
            },
            dias: {
                labels: ['S√°bado dia todo', 'S√°bado de manh√£', 'Ter√ßa e quinta √† noite', 'S√°bado √† tarde', 'Segunda e quarta √† noite', 'Quarta √† noite', 'Sexta √† noite', 'Quinta √† noite', 'Segunda √† noite', 'Ter√ßa √† noite'],
                values: [36, 36, 14, 10, 9, 6, 4, 2, 2, 0],
                percentuais: [30.3, 30.3, 11.8, 8.4, 7.6, 5.0, 3.4, 1.7, 1.7, 0]
            },
            interesse: {
                labels: ['Com certeza', 'Talvez', 'N√£o'],
                values: [90, 15, 14],
                percentuais: [75.6, 12.6, 11.8]
            },
            qualidade: {
                labels: ['Nota 1', 'Nota 2', 'Nota 3', 'Nota 4', 'Nota 5'],
                values: [2, 2, 17, 41, 57],
                percentuais: [1.7, 1.7, 14.3, 34.5, 47.9],
                media: 4.3
            },
            custo: {
                labels: ['Nota 1', 'Nota 2', 'Nota 3', 'Nota 4', 'Nota 5'],
                values: [4, 3, 19, 42, 51],
                percentuais: [3.4, 2.5, 16.0, 35.3, 42.9],
                media: 4.1
            },
            percepcao: {
                labels: ['Boa qualidade, mas poderia ter mais pr√°ticas', 'Atende plenamente √†s expectativas', 'A flexibilidade √© o diferencial', 'Poderia ser mais desafiador', 'Poderia ser mais organizado', 'Outros'],
                values: [51, 29, 19, 10, 6, 4],
                percentuais: [42.9, 24.4, 16.0, 8.4, 5.0, 3.4]
            }
        };

        function createCursoChart() {
            const data = [{
                type: 'pie',
                labels: dados.cursos.labels,
                values: dados.cursos.values,
                textinfo: 'label+percent',
                textposition: 'auto',
                marker: {
                    colors: ['#3498db', '#e74c3c', '#f39c12', '#27ae60', '#9b59b6', '#1abc9c', '#e67e22']
                },
                hole: 0.3
            }];

            const layout = {
                showlegend: true,
                margin: { t: 20, b: 20, l: 20, r: 20 },
                font: { size: 11 }
            };

            Plotly.newPlot('curso-chart', data, layout, {responsive: true});
        }

        function createLocalChart() {
            const data = [{
                type: 'bar',
                x: dados.local.labels,
                y: dados.local.values,
                text: dados.local.percentuais.map(p => p + '%'),
                textposition: 'auto',
                marker: {
                    color: ['#3498db', '#e74c3c', '#95a5a6']
                }
            }];

            const layout = {
                xaxis: { title: 'Local de Prefer√™ncia' },
                yaxis: { title: 'N√∫mero de Alunos' },
                margin: { t: 20, b: 80, l: 50, r: 20 }
            };

            Plotly.newPlot('local-chart', data, layout, {responsive: true});
        }

        function createDistanciaChart() {
            const data = [{
                type: 'bar',
                x: dados.distancia.labels,
                y: dados.distancia.values,
                text: dados.distancia.percentuais.map(p => p + '%'),
                textposition: 'auto',
                marker: {
                    color: ['#27ae60', '#2ecc71', '#f39c12', '#e67e22', '#e74c3c']
                }
            }];

            const layout = {
                xaxis: { title: 'Dist√¢ncia/Tempo' },
                yaxis: { title: 'N√∫mero de Alunos' },
                margin: { t: 20, b: 100, l: 50, r: 20 }
            };

            Plotly.newPlot('distancia-chart', data, layout, {responsive: true});
        }

        function createFrequenciaChart() {
            const data = [{
                type: 'bar',
                x: dados.frequencia.labels,
                y: dados.frequencia.values,
                text: dados.frequencia.percentuais.map(p => p + '%'),
                textposition: 'auto',
                marker: {
                    color: ['#2ecc71', '#27ae60', '#3498db', '#f39c12']
                }
            }];

            const layout = {
                xaxis: { title: 'Frequ√™ncia Desejada' },
                yaxis: { title: 'N√∫mero de Alunos' },
                margin: { t: 20, b: 120, l: 50, r: 20 }
            };

            Plotly.newPlot('frequencia-chart', data, layout, {responsive: true});
        }

        function createDiasChart() {
            const data = [{
                type: 'bar',
                x: dados.dias.labels,
                y: dados.dias.values,
                text: dados.dias.percentuais.map(p => p + '%'),
                textposition: 'auto',
                marker: {
                    color: ['#9b59b6', '#8e44ad', '#3498db', '#2980b9', '#e74c3c', '#c0392b', '#f39c12', '#e67e22', '#95a5a6', '#7f8c8d']
                }
            }];

            const layout = {
                xaxis: { 
                    title: 'Dias e Per√≠odos',
                    tickangle: -45
                },
                yaxis: { title: 'N√∫mero de Alunos' },
                margin: { t: 20, b: 150, l: 50, r: 20 }
            };

            Plotly.newPlot('dias-chart', data, layout, {responsive: true});
        }

        function createInteresseChart() {
            const data = [{
                type: 'pie',
                labels: dados.interesse.labels,
                values: dados.interesse.values,
                textinfo: 'label+percent',
                marker: {
                    colors: ['#27ae60', '#f39c12', '#e74c3c']
                },
                hole: 0.3
            }];

            const layout = {
                showlegend: true,
                margin: { t: 20, b: 20, l: 20, r: 20 }
            };

            Plotly.newPlot('interesse-chart', data, layout, {responsive: true});
        }

        function createQualidadeChart() {
            const data = [{
                type: 'bar',
                x: dados.qualidade.labels,
                y: dados.qualidade.values,
                text: dados.qualidade.percentuais.map(p => p + '%'),
                textposition: 'auto',
                marker: {
                    color: ['#e74c3c', '#e67e22', '#f39c12', '#27ae60', '#2ecc71']
                }
            }];

            const layout = {
                title: `M√©dia: ${dados.qualidade.media}/5`,
                xaxis: { title: 'Avalia√ß√£o' },
                yaxis: { title: 'N√∫mero de Alunos' },
                margin: { t: 50, b: 80, l: 50, r: 20 }
            };

            Plotly.newPlot('qualidade-chart', data, layout, {responsive: true});
        }

        function createCustoChart() {
            const data = [{
                type: 'bar',
                x: dados.custo.labels,
                y: dados.custo.values,
                text: dados.custo.percentuais.map(p => p + '%'),
                textposition: 'auto',
                marker: {
                    color: ['#e74c3c', '#e67e22', '#f39c12', '#27ae60', '#2ecc71']
                }
            }];

            const layout = {
                title: `M√©dia: ${dados.custo.media}/5`,
                xaxis: { title: 'Avalia√ß√£o' },
                yaxis: { title: 'N√∫mero de Alunos' },
                margin: { t: 50, b: 80, l: 50, r: 20 }
            };

            Plotly.newPlot('custo-chart', data, layout, {responsive: true});
        }

        function createPercepcaoChart() {
            const data = [{
                type: 'bar',
                x: dados.percepcao.labels,
                y: dados.percepcao.values,
                text: dados.percepcao.percentuais.map(p => p + '%'),
                textposition: 'auto',
                marker: {
                    color: ['#e74c3c', '#27ae60', '#3498db', '#f39c12', '#e67e22', '#95a5a6']
                }
            }];

            const layout = {
                xaxis: { title: 'Percep√ß√£o do Curso' },
                yaxis: { title: 'N√∫mero de Alunos' },
                margin: { t: 20, b: 150, l: 50, r: 20 }
            };

            Plotly.newPlot('percepcao-chart', data, layout, {responsive: true});
        }

        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Event listeners para fechar modais
        document.addEventListener('DOMContentLoaded', function() {
            // Criar todos os gr√°ficos
            createCursoChart();
            createLocalChart();
            createDistanciaChart();
            createFrequenciaChart();
            createDiasChart();
            createInteresseChart();
            createQualidadeChart();
            createCustoChart();
            createPercepcaoChart();

            // Event listeners para fechar modais
            document.querySelectorAll('.close').forEach(closeBtn => {
                closeBtn.addEventListener('click', function() {
                    this.closest('.modal').style.display = 'none';
                });
            });

            // Fechar modal clicando fora
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.style.display = 'none';
                    }
                });
            });
        });
    </script>
</body>
</html>
